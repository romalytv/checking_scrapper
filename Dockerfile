# 1. Використовуємо офіційний легкий образ Node.js (версія 20)
# slim версія ідеальна для скриптів, які не потребують браузера
FROM node:20-slim

# 2. Створюємо робочу папку для нашого ТікТок-радара
WORKDIR /usr/src/app

# 3. Копіюємо файли залежностей
# Це окремий крок, щоб Docker кешував встановлені модулі
COPY package*.json ./

# 4. Встановлюємо залежності (тільки необхідні для TikTok та axios)
# Використовуємо --omit=dev, щоб образ був ще меншим
RUN npm install --omit=dev

# 5. Копіюємо код бота та файл .env (якщо він потрібен локально)
COPY . .

# 6. Вказуємо порт (Render часто потребує цього, навіть якщо це бот)
EXPOSE 10000

# 7. Запускаємо наш TikTok монітор!
CMD ["node", "index.js"]